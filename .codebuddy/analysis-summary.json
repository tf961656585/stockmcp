{"title":"MCP 严格场景校验与测试增强","features":["严格模式运行时校验与路径化错误","接口契约与结构对齐测试","负例与边界覆盖（极值/空与null/NaN/Infinity）","故障注入（超时/5xx/畸形JSON/部分成功）","容错模式下的规范化与裁剪","重试退避与去重乱序处理","模糊（fuzz）测试与随机突变","稳定快照与基线回归"],"tech":{"Backend":"Node.js + TypeScript；严格校验器；故障注入与模糊测试；重试退避与去重","Web":null,"iOS":null,"Android":null},"design":"N/A","plan":{"在 types.ts 补充精确类型：必填/可选字段、受限枚举、品牌化 ID、数值安全范围。":"holding","在 data-validator.ts 实现 exact 校验：拒绝多余键、禁用类型强转、返回路径化错误详情。":"holding","新增 normalize 函数：在容错模式裁剪未知字段、填默认值、深冻结只读对象。":"holding","在 validated-data-fetcher.ts 串联获取→解析→校验→规范化，严格模式下直接抛出校验错误。":"holding","在 data-fetcher.ts 增加超时控制、非 2xx 分类、JSON 解析守卫、可配置重试与指数退避。":"holding","实现去重与乱序整合：基于品牌化 ID 合并重复项，保持稳定排序。":"holding","新增 tests/helpers/faults.js：故障注入与响应桩（超时、5xx、半结构、畸形 JSON）。":"holding","新增 tests/helpers/mutate.js：随机突变器（删键、错类型、插入未知键、极值注入、深嵌套）。":"holding","为 test-validation.js 增补：缺失字段、类型漂移、枚举越界、NaN/Infinity、空与 null 差异。":"holding","扩展 test-mcp-interface.js：契约对齐、拒绝多余字段、严格/容错模式切换断言。":"holding","扩展 test-mcp-tools.js：工具返回极端值与结构偏差的校验与报错路径检查。":"holding","扩展 test-mcp-comprehensive.js：端到端流程覆盖重试、去重、排序与规范化。":"holding","完善 test-enhanced.js：引入 fuzz 回合，多次随机突变确保健壮性。":"holding","补充 test-simple.js：最小可行正例与边界正例快照，确保回归基线。":"holding","新增 test-mcp-timeouts.js：超时/慢响应与退避策略的行为断言。":"holding","在 src/index.ts 暴露严格/容错入口、错误类型与工具函数，统一出口。":"holding","在 enhanced-data-fetcher.ts 修复/补充深层数组与联合类型的校验穿透。":"holding"}}